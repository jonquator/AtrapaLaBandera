<!DOCTYPE html>
<html lang="es" >
	<head>
	  <meta charset="UTF-8">
	  <title>Atrapa la bandera</title>
	  <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
		<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.0.2/css/bootstrap.min.css'>
		<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Press+Start+2P|Roboto'>
		<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css'>
		<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css'><link rel="stylesheet" href="./style.css">
	</head>
	<body onload="checkCookie()">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container d-flex flex-column flex-md-row justify-content-between">
				<a class="navbar-brand" href="#">Atrapa la bandera</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav mx-auto">
						<li class="nav-item mx-5">
							<a class="nav-link py-2" href="#" data-toggle="modal" data-target="#modalGuiaJuego">Guía de juego</a>
						</li>
						<li class="nav-item mx-5">
							<a class="nav-link py-2" id="downloadsBtn1" target="_blank" href="https://drive.google.com/file/d/11WnO-DSMsNspw_9IOcnX7ygG8S1m79qL/view?usp=sharing">Tabla motes y rangos</a>
						</li>
						<li class="nav-item mx-5">
							<a class="nav-link py-2" id="downloadsBtn2" target="_blank" href="https://drive.google.com/drive/folders/1aYejQA1EULfWRhlrNT2N9-SCDA9JU5tk?usp=sharing">Tarjetas temáticas</a>
						</li>
					</ul>
					<button class="btn btn-outline-info btn-sm float-right ml-3" id="lightDarkTheme">
						<i class="fas fa-moon" id="iconoLightDarkTheme"></i>
					</button>
				</div>
			</div>
		</nav>

		<div id="contenedor" class="container">
			<div id="main" class="m-0 d-flex py-1">
				<button type="button" class="btn btn-primary my-5 mx-auto btn-lg" id="pressStart">Inciar partida</button>
				<button type="button" class="btn btn-danger my-5 mx-auto btn-lg" id="endGame">Finalizar</button>
			</div>
			<!--inicio card-->
			<div id="ocultoTurnos">
				<div class="alert alert-info mx-auto mb-3 clearfix" role="alert" id="alertTiempoPartida">
					<span class="float-left">Tiempo de partida: <span id="demo1" class="demo">00:00:00</span></span>
					<button class="btn btn-primary btn-sm float-right" id="accionTiempo"><i class="fas fa-pause" id="iconAccionTiempo"></i></button>
				</div>
				<div class="card">
					<h5 class="card-header">Turno: <span id="cardHeaderTurno"></span><span class="float-right">Ronda: <span id="numRonda"></span></span></h5>
					<div class="card-body">
						<h5 class="card-title">Tiempo acción: <span id="countDown"></span></h5>
						<ul class="list-group">
							<li class="list-group-item disabled" aria-disabled="true" id="accion1">
								1 aviso general (5s)
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion1">
									<i class="fas fa-play" id="iconoAccion1"></i>
								</button>
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion1_2">
									<i class="fas fa-step-forward" id="iconoAccion1_2"></i>
								</button>
								<div class="progress">
									<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" id="progressbar1" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="5"></div>
								</div>
							</li>
							<li class="list-group-item disabled" aria-disabled="true" id="accion2">
								3 avisos individuales (15s)
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion2">
									<i class="fas fa-play" id="iconoAccion2"></i>
								</button>
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion2_2">
									<i class="fas fa-step-forward" id="iconoAccion2_2"></i>
								</button>
								<div class="progress">
									<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" id="progressbar2" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="15"></div>
								</div>
							</li>
							<li class="list-group-item disabled" aria-disabled="true" id="accion3">
								1<sup>er</sup> disparo (10s)
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion3">
									<i class="fas fa-play" id="iconoAccion3"></i>
								</button>
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion3_2">
									<i class="fas fa-step-forward" id="iconoAccion3_2"></i>
								</button>
								<div class="progress">
									<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" id="progressbar3" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10"></div>
								</div>
							</li>
							<li class="list-group-item disabled" aria-disabled="true" id="accion4">
								2º disparo (10s)
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion4">
									<i class="fas fa-play" id="iconoAccion4"></i>
								</button>
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion4_2">
									<i class="fas fa-step-forward" id="iconoAccion4_2"></i>
								</button>
								<div class="progress">
									<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" id="progressbar4" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10"></div>
								</div>
							</li>
							<li class="list-group-item disabled" aria-disabled="true" id="accion5">
								Sanación (10s)
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion5">
									<i class="fas fa-play" id="iconoAccion5"></i>
								</button>
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion5_2">
									<i class="fas fa-step-forward" id="iconoAccion5_2"></i>
								</button>
								<div class="progress">
									<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" id="progressbar5" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="10"></div>
								</div>
							</li>
							<li class="list-group-item disabled" aria-disabled="true" id="accion6">
								Movimiento (5s)
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion6">
									<i class="fas fa-play" id="iconoAccion6"></i>
								</button>
								<button class="btn btn-outline-info btn-sm float-right ml-3" id="botonAccion6_2">
									<i class="fas fa-step-forward" id="iconoAccion6_2"></i>
								</button>
								<div class="progress">
									<div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" id="progressbar6" role="progressbar" style="" aria-valuenow="0" aria-valuemin="0" aria-valuemax="5"></div>
								</div>
							</li>
						</ul>
					</div>
					<div class="card-footer bg-transparent p-2">
						<a href="#" class="btn btn-primary float-right" aria-disabled="true" id="siguienteTurno">Siguiente turno</a>
					</div>
				</div>
			</div>
			<!--fin card-->
		</div>

		<div class="modal fade" id="modalGuiaJuego" tabindex="-1" role="dialog" data-backdrop="static">
			<div class="modal-dialog modal-xl modal-dialog-scrollable" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Guía de juego</h5>
					</div>
					<div class="modal-body">
						<p>
							El juego consiste en apoderarse de una bandera que cada equipo posee en su terreno. Hay dos fases de preparación:
						</p>
						<ol>
							<li>
								Se pueden montar unas defensas con sillas recubiertas con una manta, papeleras,... Harán falta bolas de piscina o unas
								hechas con papel u otros materiales para repartir como munición a cada jugador.
							</li>
							<li>
								Se hacen dos equipos en los que habrá un monitor que haga de mariscal. El monitor registra en una hoja el nombre en clave
								de cada uno de los participantes y le asigna un cargo según la tabla que se encuentra más abajo. Conviene tener unas tarjetas impresas con
								el rango y repartirlas a cada jugador, puedes encontrar varios ejemplos tematizados <a href="#" id="glowClick" onClick="addGlow();">aquí</a>. Prucura
								imprimir el mismo número de tarjetas para cada equipo y con la posibilidad de diferenciarlas (lo más sencillo es imprimir en folios de colores).
							</li>
						</ol>
						<table class="table table-bordered table-hover table-sm table-responsive">
							<tr>
								<td>
									<strong>
										Mariscal
									</strong>
								</td>
								<td>
									El monitor que controla su equipo.
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Bandera
									</strong>
								</td>
								<td>
									Es la insignia del equipo y si es capturada el equipo pierde
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Sanitario
									</strong>
								</td>
								<td>
									Cuando toca a alguien y este ha sido disparado no muere. No puede matar a nadie.
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Ingeniero
									</strong>
								</td>
								<td>
									Arregla el cañón. No puede matar a nadie.
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Bomba
									</strong>
								</td>
								<td>
									Cuando le disparan estalla matando al que le ha disparado. No puede disparar a nadie.
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Artificiero
									</strong>
								</td>
								<td>
									Mata al cañón.
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Soldado
									</strong>
								</td>
								<td>
									Resto de jugadores.
								</td>
							</tr>
							<tr>
								<td>
									<strong>
										Cañón
									</strong>
								</td>
								<td>
									No se mueve y puede ser desactivado. lo que hace es disparar un balón por turno(no se cuenta como disparo)
									y al que le cae encima lo mata y a cualquiera que esté a tres pasos alrededor de donde haya caído el proyectil.
								</td>
							</tr>
						</table>
						<br />
						<p>
							A la hora de empezar a jugar cada uno de los bandos se tumba a cada lado del campo previamente delimitado y se apagan las luces.
							Debe haber un monitor que haga el papel de ONU, es decir de árbitro, y será este quien avisará de las acciones que podrá realizar
							cada equipo en su turno, así como si alguien puede o no disparar o si alguien está eliminado o no. Debe tener un silbato y una linterna,
							el silbato para dar la orden de movimiento, así como de detenerse. También ha de poner orden en el campo de batalla, evitar que se hable,
							que se muevan cuando no esté permitido o se levanten sin permiso. Ha de controlar a los mariscales, no solo para determinar los turnos sino
							también para que no alumbren al campo de batalla con sus linternas, hablen con los que están jugando o con los que ya están eliminados, ya que
							supondría una ventaja importante con respecto al bando contrario, ya que la dificultad está en que los generales apenas puedan saber lo que está
							ocurriendo en la batalla, sino solo por órdenes a sus soldados.
						</p>
						<p>
							Una de las maneras que tiene la ONU de distribuir el juego es de la siguiente forma: Movimiento – Detenerse – turno del equipo Azul – turno del equipo Rojo –
							Movimiento – Detenerse – turno del equipo Rojo – turno del equipo Azul… De esta forma no existe prioridad tanto de atacar en primer lugar como en segundo,
							ya que conocer las estrategias del rival pueden dar una gran ventaja. Durante cada uno de los turnos se distribuye de la siguiente forma: 1 aviso general,
							en el que se pueden dar orientaciones al grupo en su conjunto, 2 avisos individuales, a cada uno de los participantes con instrucciones concretas, y 2 disparos.
							Un disparo se efectúa preguntando: Nombre en clave + ¿tienes tiro? Cuando la respuesta es positiva, lanzará la bola y si da a alguien, la ONU se acercará al lugar y
							solicitará al atacante su identificación y después al defensor la suya (de ese modo solo la ONU conocerá el rango) y definirá quién es eliminado según los rangos.
						</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="modalTurno">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Turno del equipo</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<p id="insertTurnoModal"></p>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="modalMovimientoDetenerse" aria-hidden="true" id="modalMovimientoDetenerse" data-backdrop="static">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Movimiento - Detenerse</h5>
					</div>
					<div class="modal-body">
						<h2 id="accionMovimientoDetenerse"></h2>
						<h3 id="countDownMovimientoDetenerse" style="height: 35px;" class="my-4"></h3>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary disabled" aria-disabled="true" data-dismiss="modal" id="btnMovimientoDetenerse">Cerrar</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" id="modalTerminarJuego" data-backdrop="static">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Fin de la partida</h5>
					</div>
					<div class="modal-body">
						<h5>Tiempo total: </h5>
						<h3 id="tiempoTotalPartida"></h3>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" data-dismiss="modal" id="btnMovimientoDetenerse">Cerrar</button>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" data-cfasync="false"></script>
		<script>
			window.cookieconsent.initialise({
				"palette": {
					"popup": {
						"background": "#383b75"
					},
					"button": {
						"background": "#f1d600"
					}
				},
				"theme": "classic",
				"content": {
					"message": "Este sitio web utiliza cookies propias para recopilar información que ayudan a optimizar su visita a la página web. No se utilizarán las cookies para recoger información de carácter personal. Usted puede permitir su uso o rechazarlo, también puede cambiar su configuración siempre que lo desee.",
					"dismiss": "Entendido",
					"link": "Política de cookies"
				}
			});
		</script>
	  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.min.js'></script>
		<script src='https://cdn.rawgit.com/robcowie/jquery-stopwatch/master/jquery.stopwatch.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js'></script>
		<script  src="./script.js"></script>
	</body>
</html>
